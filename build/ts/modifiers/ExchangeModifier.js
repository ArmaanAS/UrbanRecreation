import { EventTime } from "../Events";
import Modifier from "./Modifier";
var Exchange;
(function (Exchange) {
    Exchange[Exchange["POWER"] = 1] = "POWER";
    Exchange[Exchange["DAMAGE"] = 2] = "DAMAGE";
})(Exchange || (Exchange = {}));
export const ExchangeObject = {
    POWER: Exchange.POWER,
    DAMAGE: Exchange.DAMAGE,
};
export default class ExchangeModifier extends Modifier {
    constructor(ex, et = EventTime.PRE3) {
        super();
        this.ex = Exchange.POWER;
        if (typeof ex == 'string')
            this.ex = ExchangeObject[ex.toUpperCase()];
        else
            this.ex = ex;
        this.eventTime = et;
    }
    apply(data) {
        if (this.ex == Exchange.POWER) {
            if (!data.card.power.blocked) {
                data.card.power_.final = data.oppCard.power.base;
                data.oppCard.power_.final = data.card.power.base;
            }
        }
        else if (this.ex == Exchange.DAMAGE) {
            if (!data.card.damage.blocked) {
                data.card.damage_.final = data.oppCard.damage.base;
                data.oppCard.damage_.final = data.card.damage.base;
            }
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXhjaGFuZ2VNb2RpZmllci5qcyIsInNvdXJjZVJvb3QiOiIvQzovVXNlcnMvU3R1ZGVudC9Eb2N1bWVudHMvTm9kZUpTV29ya3NwYWNlL1VyYmFuUmVjcmVhdGlvbi9zcmMvIiwic291cmNlcyI6WyJ0cy9tb2RpZmllcnMvRXhjaGFuZ2VNb2RpZmllci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sV0FBVyxDQUFBO0FBQ3JDLE9BQU8sUUFBUSxNQUFNLFlBQVksQ0FBQztBQUVsQyxJQUFLLFFBR0o7QUFIRCxXQUFLLFFBQVE7SUFDWCx5Q0FBUyxDQUFBO0lBQ1QsMkNBQVUsQ0FBQTtBQUNaLENBQUMsRUFISSxRQUFRLEtBQVIsUUFBUSxRQUdaO0FBQ0QsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFrQztJQUMzRCxLQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUs7SUFDckIsTUFBTSxFQUFFLFFBQVEsQ0FBQyxNQUFNO0NBQ3hCLENBQUE7QUFFRCxNQUFNLENBQUMsT0FBTyxPQUFPLGdCQUFpQixTQUFRLFFBQVE7SUFFcEQsWUFBWSxFQUFxQixFQUFFLEVBQUUsR0FBRyxTQUFTLENBQUMsSUFBSTtRQUNwRCxLQUFLLEVBQUUsQ0FBQztRQUZWLE9BQUUsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDO1FBSWxCLElBQUksT0FBTyxFQUFFLElBQUksUUFBUTtZQUN2QixJQUFJLENBQUMsRUFBRSxHQUFHLGNBQWMsQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQzs7WUFFM0MsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRUQsS0FBSyxDQUFDLElBQWdCO1FBQ3BCLElBQUksSUFBSSxDQUFDLEVBQUUsSUFBSSxRQUFRLENBQUMsS0FBSyxFQUFFO1lBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUU7Z0JBRTVCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7Z0JBQ2pELElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7YUFDbEQ7U0FDRjthQUFNLElBQUksSUFBSSxDQUFDLEVBQUUsSUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFO1lBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7Z0JBRTdCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7Z0JBQ25ELElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7YUFDcEQ7U0FDRjtJQUNILENBQUM7Q0FDRiJ9