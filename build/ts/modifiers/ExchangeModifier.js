import EventTime from "../types/EventTime";
import Modifier from "./Modifier";
var Exchange;
(function (Exchange) {
    Exchange[Exchange["POWER"] = 1] = "POWER";
    Exchange[Exchange["DAMAGE"] = 2] = "DAMAGE";
})(Exchange || (Exchange = {}));
export const ExchangeObject = {
    POWER: Exchange.POWER,
    DAMAGE: Exchange.DAMAGE,
};
export default class ExchangeModifier extends Modifier {
    constructor(ex, et = EventTime.PRE3) {
        super();
        this.ex = Exchange.POWER;
        if (typeof ex == 'string')
            this.ex = ExchangeObject[ex.toUpperCase()];
        else
            this.ex = ex;
        this.eventTime = et;
    }
    apply(data) {
        if (this.ex == Exchange.POWER) {
            if (!data.card.power.blocked) {
                data.card.power.final = data.oppCard.power.base;
                data.oppCard.power.final = data.card.power.base;
            }
        }
        else if (this.ex == Exchange.DAMAGE) {
            if (!data.card.damage.blocked) {
                data.card.damage.final = data.oppCard.damage.base;
                data.oppCard.damage.final = data.card.damage.base;
            }
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXhjaGFuZ2VNb2RpZmllci5qcyIsInNvdXJjZVJvb3QiOiIvQzovVXNlcnMvU3R1ZGVudC9Eb2N1bWVudHMvTm9kZUpTV29ya3NwYWNlL1VyYmFuUmVjcmVhdGlvbi9zcmMvIiwic291cmNlcyI6WyJ0cy9tb2RpZmllcnMvRXhjaGFuZ2VNb2RpZmllci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLFNBQVMsTUFBTSxvQkFBb0IsQ0FBQztBQUMzQyxPQUFPLFFBQVEsTUFBTSxZQUFZLENBQUM7QUFFbEMsSUFBSyxRQUdKO0FBSEQsV0FBSyxRQUFRO0lBQ1gseUNBQVMsQ0FBQTtJQUNULDJDQUFVLENBQUE7QUFDWixDQUFDLEVBSEksUUFBUSxLQUFSLFFBQVEsUUFHWjtBQUNELE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBa0M7SUFDM0QsS0FBSyxFQUFFLFFBQVEsQ0FBQyxLQUFLO0lBQ3JCLE1BQU0sRUFBRSxRQUFRLENBQUMsTUFBTTtDQUN4QixDQUFBO0FBRUQsTUFBTSxDQUFDLE9BQU8sT0FBTyxnQkFBaUIsU0FBUSxRQUFRO0lBRXBELFlBQVksRUFBcUIsRUFBRSxFQUFFLEdBQUcsU0FBUyxDQUFDLElBQUk7UUFDcEQsS0FBSyxFQUFFLENBQUM7UUFGVixPQUFFLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQztRQUlsQixJQUFJLE9BQU8sRUFBRSxJQUFJLFFBQVE7WUFDdkIsSUFBSSxDQUFDLEVBQUUsR0FBRyxjQUFjLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7O1lBRTNDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2YsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVELEtBQUssQ0FBQyxJQUFnQjtRQUNwQixJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksUUFBUSxDQUFDLEtBQUssRUFBRTtZQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFO2dCQUk1QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO2dCQUNoRCxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO2FBQ2pEO1NBQ0Y7YUFBTSxJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksUUFBUSxDQUFDLE1BQU0sRUFBRTtZQUNyQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO2dCQUk3QixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO2dCQUNsRCxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO2FBQ25EO1NBQ0Y7SUFDSCxDQUFDO0NBQ0YifQ==