import { EventTime } from "../Events";
import Modifier from "./Modifier";
var Exchange;
(function (Exchange) {
    Exchange[Exchange["POWER"] = 1] = "POWER";
    Exchange[Exchange["DAMAGE"] = 2] = "DAMAGE";
})(Exchange || (Exchange = {}));
export const ExchangeObject = {
    POWER: Exchange.POWER,
    DAMAGE: Exchange.DAMAGE,
};
export default class ExchangeModifier extends Modifier {
    constructor(ex, et = EventTime.PRE3) {
        super();
        this.ex = Exchange.POWER;
        if (typeof ex == 'string')
            this.ex = ExchangeObject[ex.toUpperCase()];
        else
            this.ex = ex;
        this.eventTime = et;
    }
    apply(data) {
        if (this.ex == Exchange.POWER) {
            if (data.card.power.prot || !data.card.power.cancel) {
                data.card.power.final = data.oppCard.power.base;
                data.oppCard.power.final = data.card.power.base;
            }
        }
        else if (this.ex == Exchange.DAMAGE) {
            if (data.card.damage.prot || !data.card.damage.cancel) {
                data.card.damage.final = data.oppCard.damage.base;
                data.oppCard.damage.final = data.card.damage.base;
            }
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXhjaGFuZ2VNb2RpZmllci5qcyIsInNvdXJjZVJvb3QiOiIvQzovVXNlcnMvU3R1ZGVudC9Eb2N1bWVudHMvTm9kZUpTV29ya3NwYWNlL1VyYmFuUmVjcmVhdGlvbi9zcmMvIiwic291cmNlcyI6WyJ0cy9tb2RpZmllcnMvRXhjaGFuZ2VNb2RpZmllci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sV0FBVyxDQUFBO0FBQ3JDLE9BQU8sUUFBUSxNQUFNLFlBQVksQ0FBQztBQUVsQyxJQUFLLFFBR0o7QUFIRCxXQUFLLFFBQVE7SUFDWCx5Q0FBUyxDQUFBO0lBQ1QsMkNBQVUsQ0FBQTtBQUNaLENBQUMsRUFISSxRQUFRLEtBQVIsUUFBUSxRQUdaO0FBQ0QsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFrQztJQUMzRCxLQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUs7SUFDckIsTUFBTSxFQUFFLFFBQVEsQ0FBQyxNQUFNO0NBQ3hCLENBQUE7QUFFRCxNQUFNLENBQUMsT0FBTyxPQUFPLGdCQUFpQixTQUFRLFFBQVE7SUFFcEQsWUFBWSxFQUFxQixFQUFFLEVBQUUsR0FBRyxTQUFTLENBQUMsSUFBSTtRQUNwRCxLQUFLLEVBQUUsQ0FBQztRQUZWLE9BQUUsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDO1FBSWxCLElBQUksT0FBTyxFQUFFLElBQUksUUFBUTtZQUN2QixJQUFJLENBQUMsRUFBRSxHQUFHLGNBQWMsQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQzs7WUFFM0MsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRUQsS0FBSyxDQUFDLElBQWdCO1FBQ3BCLElBQUksSUFBSSxDQUFDLEVBQUUsSUFBSSxRQUFRLENBQUMsS0FBSyxFQUFFO1lBRTdCLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFO2dCQUNuRCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO2dCQUNoRCxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO2FBQ2pEO1NBQ0Y7YUFBTSxJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksUUFBUSxDQUFDLE1BQU0sRUFBRTtZQUVyQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtnQkFDckQsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztnQkFDbEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQzthQUNuRDtTQUNGO0lBQ0gsQ0FBQztDQUNGIn0=