import { EventTime } from "../Events";
import Modifier from "./Modifier";
var Copy;
(function (Copy) {
    Copy[Copy["POWER"] = 1] = "POWER";
    Copy[Copy["DAMAGE"] = 2] = "DAMAGE";
    Copy[Copy["ABILITY"] = 3] = "ABILITY";
    Copy[Copy["BONUS"] = 4] = "BONUS";
})(Copy || (Copy = {}));
export const CopyObject = {
    POWER: Copy.POWER,
    DAMAGE: Copy.DAMAGE,
    ABILITY: Copy.ABILITY,
    BONUS: Copy.BONUS,
};
export default class CopyModifier extends Modifier {
    constructor(copy, et = EventTime.PRE3) {
        super();
        this.copy = Copy.POWER;
        if (typeof copy == 'string')
            this.copy = CopyObject[copy.toUpperCase()];
        else
            this.copy = copy;
        this.eventTime = et;
    }
    apply(data) {
        if (this.copy == Copy.POWER) {
            if (data.card.power.prot || !data.card.power.cancel)
                data.card.power.final = data.oppCard.power.base;
        }
        else if (this.copy == Copy.DAMAGE)
            if (data.card.damage.prot || !data.card.damage.cancel)
                data.card.damage.final = data.oppCard.damage.base;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29weU1vZGlmaWVyLmpzIiwic291cmNlUm9vdCI6Ii9DOi9Vc2Vycy9TdHVkZW50L0RvY3VtZW50cy9Ob2RlSlNXb3Jrc3BhY2UvVXJiYW5SZWNyZWF0aW9uL3NyYy8iLCJzb3VyY2VzIjpbInRzL21vZGlmaWVycy9Db3B5TW9kaWZpZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUN0QyxPQUFPLFFBQVEsTUFBTSxZQUFZLENBQUM7QUFFbEMsSUFBSyxJQUtKO0FBTEQsV0FBSyxJQUFJO0lBQ1AsaUNBQVMsQ0FBQTtJQUNULG1DQUFVLENBQUE7SUFDVixxQ0FBVyxDQUFBO0lBQ1gsaUNBQVMsQ0FBQTtBQUNYLENBQUMsRUFMSSxJQUFJLEtBQUosSUFBSSxRQUtSO0FBQ0QsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUE0QjtJQUNqRCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7SUFDakIsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO0lBQ25CLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztJQUNyQixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7Q0FDbEIsQ0FBQTtBQUVELE1BQU0sQ0FBQyxPQUFPLE9BQU8sWUFBYSxTQUFRLFFBQVE7SUFFaEQsWUFBWSxJQUFtQixFQUFFLEVBQUUsR0FBRyxTQUFTLENBQUMsSUFBSTtRQUNsRCxLQUFLLEVBQUUsQ0FBQztRQUZWLFNBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBSWhCLElBQUksT0FBTyxJQUFJLElBQUksUUFBUTtZQUN6QixJQUFJLENBQUMsSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQTs7WUFFMUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDbkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVELEtBQUssQ0FBQyxJQUFnQjtRQUNwQixJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUUzQixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU07Z0JBQ2pELElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7U0FFbkQ7YUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU07WUFFakMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNO2dCQUNuRCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3hELENBQUM7Q0FDRiJ9