import { isMainThread, parentPort, threadId } from 'worker_threads';
if (!isMainThread) {
    const log = console.log;
    console.log = () => { };
    process.stdout.write("Test output: " + threadId + "\n");
    log(`[${threadId.toString().green}] ${'Thread Started'.grey}`);
    parentPort.once('message', (data) => {
        log("Received initial MessagePort");
        const port = data.port;
        port.postMessage("Thanks for having me");
    });
    await new Promise((resolve) => { });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGhyZWFkU29sdmVyLmpzIiwic291cmNlUm9vdCI6Ii9DOi9Vc2Vycy9TdHVkZW50L0RvY3VtZW50cy9Ob2RlSlNXb3Jrc3BhY2UvVXJiYW5SZWNyZWF0aW9uL3NyYy8iLCJzb3VyY2VzIjpbInRzL3NvbHZlci9UaHJlYWRTb2x2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFlBQVksRUFFWixVQUFVLEVBQ1YsUUFBUSxFQUNULE1BQU0sZ0JBQWdCLENBQUM7QUFJeEIsSUFBSSxDQUFDLFlBQVksRUFBRTtJQUNqQixNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO0lBQ3hCLE9BQU8sQ0FBQyxHQUFHLEdBQUcsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBRXhCLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDeEQsR0FBRyxDQUFDLElBQUksUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLEtBQUssS0FBSyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRy9ELFVBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsSUFBMkIsRUFBRSxFQUFFO1FBQzFELEdBQUcsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFBO1FBQ25DLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFdkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBWTNDLENBQUMsQ0FBQyxDQUFBO0lBRUYsTUFBTSxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDckMifQ==