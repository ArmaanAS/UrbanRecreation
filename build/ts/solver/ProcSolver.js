var _a;
import cluster from 'cluster';
import Analysis from './Analysis';
if (cluster.isWorker) {
    const id = cluster.worker.id;
    const log = console.log;
    console.log = () => 0;
    log(`[${id.toString().blue}] ${'Process Started'.grey}`);
    (_a = process.send) === null || _a === void 0 ? void 0 : _a.call(process, { msg: "ready" });
    process.on('message', async (data) => {
        var _a;
        log(`[${data.id.toString().yellow}] ${'Analysis Started'.grey}`);
        const m = await Analysis.iterTree(data.game, true);
        log(`[${data.id.toString().yellow}] ${'Analysis Finished'.grey}`);
        (_a = process.send) === null || _a === void 0 ? void 0 : _a.call(process, m);
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJvY1NvbHZlci5qcyIsInNvdXJjZVJvb3QiOiIvQzovVXNlcnMvU3R1ZGVudC9Eb2N1bWVudHMvTm9kZUpTV29ya3NwYWNlL1VyYmFuUmVjcmVhdGlvbi9zcmMvIiwic291cmNlcyI6WyJ0cy9zb2x2ZXIvUHJvY1NvbHZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxPQUFPLE1BQU0sU0FBUyxDQUFBO0FBRTdCLE9BQU8sUUFBUSxNQUFNLFlBQVksQ0FBQztBQUVsQyxJQUFJLE9BQU8sQ0FBQyxRQUFRLEVBQUU7SUFDcEIsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFFN0IsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztJQUN4QixPQUFPLENBQUMsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUV0QixHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsSUFBSSxLQUFLLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7SUFJekQsTUFBQSxPQUFPLENBQUMsSUFBSSwrQ0FBWixPQUFPLEVBQVEsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQztJQU9qQyxPQUFPLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsSUFBc0IsRUFBRSxFQUFFOztRQUdyRCxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLE1BQU0sS0FBSyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ2pFLE1BQU0sQ0FBQyxHQUFHLE1BQU0sUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRW5ELEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsTUFBTSxLQUFLLG1CQUFtQixDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7UUFDbEUsTUFBQSxPQUFPLENBQUMsSUFBSSwrQ0FBWixPQUFPLEVBQVEsQ0FBQyxDQUFDLENBQUM7SUFDcEIsQ0FBQyxDQUFDLENBQUE7Q0FZSCJ9